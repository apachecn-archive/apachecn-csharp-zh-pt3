# 零、介绍

这本书已经成为，因为我们觉得没有权威的文本，涵盖所有这三个领域有关。网络应用性能:

*   确定性能指标，然后测量应用性能，以验证它是否满足或超过这些指标。
*   在内存管理、网络、I/O、并发性和其他方面提高应用性能。
*   了解 CLR 和。NET 内部细节，以便设计高性能的应用，并在出现性能问题时进行修复。

我们相信。如果不彻底了解这三个方面，NET 开发人员就无法实现系统化的高性能软件解决方案。例如，。NET 内存管理(由 CLR 垃圾收集器提供)是一个极其复杂的领域，并且会导致严重的性能问题，包括内存泄漏和长时间的 GC 暂停时间。在不了解 CLR 垃圾回收器如何工作的情况下，中的高性能内存管理。网络只能靠运气。类似地，从。NET Framework 必须提供的，或者决定实现自己的，需要全面熟悉 CPU 缓存、运行时复杂性和同步问题。

这本书的 11 个章节被设计成连续阅读，但你可以在主题之间来回跳跃，并在必要时填空。这些章节分为以下逻辑部分:

*   第 1 章和第 2 章涉及性能指标和性能测量。它们介绍了您可以用来测量应用性能的工具。
*   第 3 章和第 4 章深入探讨了 CLR 的内部机制。他们主要关注类型内部和 CLR 垃圾收集的实现——这是在内存管理方面提高应用性能的两个关键主题。
*   第 5 章、第 6 章、第 7 章、第 8 章和第 11 章讨论的特定领域。NET Framework 和 CLR 提供了性能优化的机会——正确使用集合、并行化顺序代码、优化 I/O 和网络操作、高效使用互操作性解决方案，以及提高 Web 应用的性能。
*   第 9 章简要介绍了复杂性理论和算法。写这篇文章是为了让你了解什么是算法优化。
*   第 10 章是不适合本书其他地方的各种主题的垃圾场，包括启动时间优化、异常和。净反射。

其中一些主题有一些先决条件，可以帮助您更好地理解它们。在本书的整个过程中，我们假设您对 C#编程语言和。NET 框架，并熟悉基本概念，包括:

*   Windows:线程、同步、虚拟内存
*   公共语言运行时(CLR):实时(JIT)编译器、微软中间语言(MSIL)、垃圾收集器
*   计算机组织:主存、缓存、磁盘、显卡、网络接口整本书有相当多的示例程序、摘录和基准。为了不再制作这本书，我们通常只包括一个简短的部分——但是你可以在书的网站上的配套源代码中找到整个程序。

在某些章节中，我们使用 x86 汇编语言中的代码来说明 CLR 机制如何运行，或者更彻底地解释特定的性能优化。虽然这些部分对本书的要点并不重要，但我们建议专业读者花些时间学习 x86 汇编语言的基础知识。Randall Hyde 的免费书籍《汇编语言编程的艺术》(`http://www.artofasm.com/Windows/index.html`)是一个极好的资源。

总之，这本书充满了性能测量工具，提高应用性能的小技巧和诀窍，许多 CLR 机制的理论基础，实际的代码示例，以及来自作者经验的几个案例研究。近十年来，我们一直在为客户优化应用，并从头开始设计高性能系统。在这些年里，我们培训了数百名开发人员，让他们思考软件开发生命周期的每个阶段的性能，并积极寻找提高应用性能的机会。看完这本书，你就会加入高绩效的行列。NET 应用开发人员和性能调查人员优化现有的应用。

萨沙·戈德斯通

迪马·祖巴列夫

去菲洛